[1mdiff --git a/Assets/Scripts/BMSParser.cs b/Assets/Scripts/BMSParser.cs[m
[1mindex 9c04d60..ab2da07 100644[m
[1m--- a/Assets/Scripts/BMSParser.cs[m
[1m+++ b/Assets/Scripts/BMSParser.cs[m
[36m@@ -77,6 +77,7 @@[m [mpublic class BMSParser : IParser[m
 [m
     private readonly Chart chart = new();[m
     private readonly string[] wavTable = new string[36 * 36];[m
[32m+[m[32m    private readonly string[] bmpTable = new string[36 * 36];[m
     private int lnobj = -1;[m
     private int lntype = 1;[m
 [m
[36m@@ -264,10 +265,13 @@[m [mpublic void Parse(string path)[m
 [m
                                 break;[m
                             case Channel.BgaPlay:[m
[32m+[m[32m                                timeline.BgaBase = DecodeBase36(val);[m
                                 break;[m
                             case Channel.PoorPlay:[m
[32m+[m[32m                                timeline.BgaPoor = DecodeBase36(val);[m
                                 break;[m
                             case Channel.LayerPlay:[m
[32m+[m[32m                                timeline.BgaLayer = DecodeBase36(val);[m
                                 break;[m
                             case Channel.BpmChangeExtend:[m
                                 if (val == "00") break;[m
[36m@@ -417,6 +421,11 @@[m [mpublic string GetWavFileName(int id)[m
     {[m
         return wavTable[id];[m
     }[m
[32m+[m[41m    [m
[32m+[m[32m    public string GetBmpFileName(int id)[m
[32m+[m[32m    {[m
[32m+[m[32m        return bmpTable[id];[m
[32m+[m[32m    }[m
 [m
     private int DecodeBase36(string str)[m
     {[m
[36m@@ -491,6 +500,17 @@[m [mprivate void ParseHeader(string cmd, string xx, string value)[m
                 wavTable[DecodeBase36(xx)] = value;[m
                 break;[m
             case "BMP":[m
[32m+[m[32m                if (xx == null || value == null)[m
[32m+[m[32m                {[m
[32m+[m[32m                    Debug.LogWarning("WAV command requires two arguments");[m
[32m+[m[32m                    break;[m
[32m+[m[32m                }[m
[32m+[m[41m                [m
[32m+[m[32m                bmpTable[DecodeBase36(xx)] = value;[m
[32m+[m[32m                if (xx == "00")[m
[32m+[m[32m                {[m
[32m+[m[32m                    chart.BgaPoorDefault = true;[m
[32m+[m[32m                }[m
                 break;[m
             case "RANDOM":[m
                 break;[m
